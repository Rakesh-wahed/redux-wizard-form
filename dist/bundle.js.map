{"version":3,"file":"bundle.js","sources":["../src/components/Steps/Steps.jsx","../src/components/Step/Step.jsx","../src/containers/WizardForm.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Steps = props => (\n  <div>\n    {props.steps.map((InnerStep, i) => props.currentStep === i && props.children(InnerStep, i, props))}\n\n    <div>\n      {props.steps.map((InnerStep, i) => {\n        const isActive = props.activatedSteps.includes(i);\n\n        return <span key={i} onClick={() => (isActive ? props.onGoToStep(i) : false)} />;\n      })}\n    </div>\n  </div>\n);\n\nSteps.propTypes = {\n  steps: PropTypes.arrayOf(PropTypes.func).isRequired,\n  activatedSteps: PropTypes.arrayOf(PropTypes.number).isRequired,\n  currentStep: PropTypes.number.isRequired,\n  children: PropTypes.func.isRequired,\n  onGoToStep: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { reduxForm } from 'redux-form';\n\nexport const Step = props => {\n  const StepForm = reduxForm({\n    ...props.formOptions,\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true\n  })(props.component);\n\n  return <StepForm {...props} />;\n};\n\nStep.propTypes = {\n  formOptions: PropTypes.shape({}).isRequired,\n  component: PropTypes.func.isRequired,\n  isCurrentStep: PropTypes.bool.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Steps } from '../components/Steps/Steps.jsx';\nimport { Step } from '../components/Step/Step.jsx';\n\nexport const reduxWizardForm = formOptions => steps => {\n  if (!Array.isArray(steps)) {\n    return () => null;\n  }\n\n  class WizardForm extends Component {\n    state = {\n      formData: {},\n      currentStep: 0,\n      activatedSteps: [0]\n    };\n\n    onNextStep = () => {\n      const nextStep = this.state.currentStep + 1;\n\n      if (this.isValidStep(nextStep)) {\n        this.setState({ currentStep: nextStep });\n      }\n    };\n\n    onPreviousStep = () => {\n      const nextStep = this.state.currentStep - 1;\n\n      if (this.isValidStep(nextStep)) {\n        this.setState({ currentStep: nextStep });\n      }\n    };\n\n    onGoToStep = step => {\n      if (this.isValidStep(step)) {\n        this.setState({ currentStep: step });\n      }\n    };\n\n    onSubmit = data => {\n      const { formData, activatedSteps, currentStep } = this.state;\n      const nextFormData = { ...formData, ...data };\n\n      if (this.state.currentStep === this.stepSize - 1) {\n        return this.props.onWizardComplete(nextFormData);\n      }\n\n      this.setState({\n        formData: nextFormData,\n        activatedSteps: [...activatedSteps, currentStep + 1]\n      });\n\n      return this.onNextStep();\n    };\n\n    stepSize = steps.length;\n\n    isValidStep(step) {\n      return step > 0 || step < this.stepSize;\n    }\n\n    render() {\n      const { currentStep, activatedSteps } = this.state;\n\n      return (\n        <Steps\n          steps={steps}\n          currentStep={currentStep}\n          activatedSteps={activatedSteps}\n          onGoToStep={this.onGoToStep}\n          onNextStep={this.onNextStep}\n          onPreviousStep={this.onPreviousStep}\n        >\n          {(InnerStep, i, props) => (\n            <Step\n              key={i}\n              isCurrentStep={currentStep === i}\n              formOptions={formOptions}\n              component={InnerStep}\n              onSubmit={this.onSubmit}\n              {...props}\n              {...this.props}\n            />\n          )}\n        </Steps>\n      );\n    }\n  }\n\n  WizardForm.propTypes = {\n    onWizardComplete: PropTypes.func.isRequired\n  };\n\n  return WizardForm;\n};\n"],"names":["Steps","React","steps","map","InnerStep","i","props","currentStep","children","isActive","activatedSteps","includes","onGoToStep","propTypes","PropTypes","arrayOf","func","isRequired","number","Step","StepForm","reduxForm","formOptions","component","shape","bool","reduxWizardForm","Array","isArray","WizardForm","state","onNextStep","nextStep","isValidStep","setState","onPreviousStep","step","onSubmit","formData","nextFormData","data","stepSize","onWizardComplete","length","render","Component"],"mappings":"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"}